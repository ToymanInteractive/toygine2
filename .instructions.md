# Repository AI Instructions

This file defines mandatory rules for AI-assisted code and documentation generation in this repository.

All AI tools (Cursor, Copilot, Continue, etc.) must follow these rules when generating or modifying code, tests, or documentation.

---

## Project Context

This repository contains a C++ game engine targeting:
- Desktop platforms
- Mobile platforms
- Embedded and constrained systems
- Retro consoles (fixed memory, no OS assumptions)

Key priorities:
- Deterministic behavior
- Minimal allocations
- Compile-time validation
- Long-term maintainability

---

## General Coding Principles

- Prefer **simplicity and clarity** over cleverness.
- Avoid unnecessary abstractions and indirection.
- Code must be understandable from reading the code itself, without relying on comments.
- Every construct must justify its existence in terms of correctness, performance, or clarity.

- Prefer **pure functions** and **functional-style composition** where practical.
- Minimize side effects and **isolate them at well-defined system boundaries**.
- Favor **value semantics** over shared mutable state.
- Functions should ideally depend only on their inputs and produce observable results explicitly.

- Optimize for **deterministic behavior** and reproducibility across platforms.
- Prefer designs that are **constexpr-friendly** and verifiable at compile time.
- Make invalid states **unrepresentable** where possible.

- Be explicit rather than implicit.
- Avoid hidden control flow, implicit ownership, and surprising lifetime semantics.
- Prefer compile-time errors over runtime failures.

- Design APIs for **correctness first**, then performance.
- Do not introduce performance optimizations without clear justification and measurement.
- Low-level or performance-critical code must document the reasoning behind non-obvious choices.

---

## Language and Standard

- C++20 is the baseline language standard.
- C++23 features may be used selectively where they are supported by the target toolchain.
- Prefer standard library facilities when feasible.
- Avoid compiler-specific extensions unless strictly required.
