<!-- HTML header for doxygen 1.14.0-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.16.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ToyGine2: AGENTS Guidelines for This Repository</title>
  <link href="../../tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="../../jquery.js"></script>
  <script type="text/javascript" src="../../dynsections.js"></script>
  <script type="text/javascript" src="../../clipboard.js"></script>
  <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
  <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
  <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
  <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
  </script>
</head>
<body>
  <!-- https://tholman.com/github-corners/ -->
  <a href="https://github.com/ToymanInteractive/toygine2" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer"><svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>
  <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="../../logo.webp"  height="52" /></td>
              <td id="projectalign">
                <div id="projectname">ToyGine2<span
                    id="projectnumber">&#160;25.12.0</span>
                </div>
                <div id="projectbrief">Game Engine for retro consoles</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('df/d81/md__a_g_e_n_t_s.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">AGENTS Guidelines for This Repository </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="agents-guidelines-for-this-repository"></a></p>
<p>This file defines mandatory rules for AI-assisted code and documentation generation in this repository.</p>
<p>All AI tools (Cursor, Copilot, Continue, etc.) must follow these rules when generating or modifying code, tests, or documentation.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="project-context"></a>
Project Context</h1>
<p>This repository contains a C++ game engine targeting:</p>
<ul>
<li>Desktop platforms</li>
<li>Mobile platforms</li>
<li>Embedded and constrained systems</li>
<li>Retro consoles (fixed memory, no OS assumptions)</li>
</ul>
<p>Key priorities:</p>
<ul>
<li>Deterministic behavior</li>
<li>Minimal allocations</li>
<li>Compile-time validation</li>
<li>Long-term maintainability</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="general-coding-principles"></a>
General Coding Principles</h1>
<ul>
<li>Prefer <b>simplicity and clarity</b> over cleverness.</li>
<li>Avoid unnecessary abstractions and indirection.</li>
<li>Code must be understandable from reading the code itself, without relying on comments.</li>
<li>Every construct must justify its existence in terms of correctness, performance, or clarity.</li>
<li>Prefer <b>pure functions</b> and <b>functional-style composition</b> where practical.</li>
<li>Minimize side effects and <b>isolate them at well-defined system boundaries</b>.</li>
<li>Favor <b>value semantics</b> over shared mutable state.</li>
<li>Functions should ideally depend only on their inputs and produce observable results explicitly.</li>
<li>Optimize for <b>deterministic behavior</b> and reproducibility across platforms.</li>
<li>Prefer designs that are <b>constexpr-friendly</b> and verifiable at compile time.</li>
<li>Make invalid states <b>unrepresentable</b> where possible.</li>
<li>Be explicit rather than implicit.</li>
<li>Avoid hidden control flow, implicit ownership, and surprising lifetime semantics.</li>
<li>Prefer compile-time errors over runtime failures.</li>
<li>Design APIs for <b>correctness first</b>, then performance.</li>
<li>Do not introduce performance optimizations without clear justification and measurement.</li>
<li>Low-level or performance-critical code must document the reasoning behind non-obvious choices.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="language-and-standard"></a>
Language and Standard</h1>
<ul>
<li>C++20 is the baseline language standard.</li>
<li>C++23 features may be used selectively where they are supported by the target toolchain.</li>
<li>Prefer standard library facilities when feasible.</li>
<li>Avoid compiler-specific extensions unless strictly required.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="header--source-organization"></a>
Header / Source Organization</h1>
<h2 class="doxsection"><a class="anchor" id="module-structure"></a>
Module Structure</h2>
<ul>
<li>Each module exposes a single public <em>barrel header</em> that acts as the module entry point.</li>
<li>Users of the library must include <b>only</b> the module header and must not depend on internal headers.</li>
<li>Internal headers are considered implementation details and are not part of the public API.</li>
<li>Barrel headers may be precompiled.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="headers"></a>
Headers</h2>
<ul>
<li>Public headers must be self-contained.</li>
<li>Public headers must not rely on include order.</li>
<li>Minimize includes; prefer forward declarations in public headers.</li>
<li>Internal headers may include other internal headers freely.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="inline-and-template-code"></a>
Inline and Template Code</h2>
<ul>
<li>All inline and template implementations must be placed in <span class="tt">.inl</span> files.</li>
<li>Public headers must include their corresponding <span class="tt">.inl</span> file explicitly, typically at the end of the header.</li>
<li>Do not place non-trivial inline implementations directly in public headers.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="inl-files"></a>
<span class="tt">.inl</span> Files</h2>
<ul>
<li><span class="tt">.inl</span> files are part of the module interface but not part of the public API.</li>
<li><span class="tt">.inl</span> files may contain:<ul>
<li>Template implementations</li>
<li><span class="tt">constexpr</span> and inline function definitions</li>
<li>Inline operator implementations</li>
</ul>
</li>
<li><span class="tt">.inl</span> files must not be included directly by users.</li>
<li><span class="tt">.inl</span> files must not introduce new public symbols that are not declared in the corresponding header.</li>
<li>Each <span class="tt">.inl</span> file must be included by exactly one public header.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="memory-and-allocation-rules"></a>
Memory and Allocation Rules</h1>
<ul>
<li>Avoid dynamic allocation by default.</li>
<li>Any heap allocation must be explicit and justified.</li>
<li>Support both:<ul>
<li>Fixed-capacity (stack or static storage)</li>
<li>Dynamic allocation (heap), when required</li>
</ul>
</li>
</ul>
<p>No hidden allocations.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="constexpr-first-design"></a>
Constexpr-First Design</h1>
<ul>
<li>Prefer <span class="tt">constexpr</span> whenever possible.</li>
<li>APIs should be usable at compile time if logically feasible.</li>
<li>Favor value semantics.</li>
</ul>
<p>If something can be checked at compile time, it should be.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="error-handling"></a>
Error Handling</h1>
<ul>
<li>Prefer explicit error handling.</li>
<li>Avoid exceptions unless explicitly allowed.</li>
<li>Prefer:<ul>
<li>Return values</li>
<li><span class="tt">expected</span>-like patterns</li>
<li>Compile-time validation</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="assertions"></a>
Assertions</h2>
<ul>
<li>Prefer <span class="tt"><a class="el" href="../../d1/d5f/assertion__macro__gcc__clang_8hpp.html#a672330c2fecd516f254162cd9611d91a" title="Debug assertion macro with custom message for runtime expression checking.">assert_message</a></span> over plain <span class="tt"><a class="el" href="../../d1/d5f/assertion__macro__gcc__clang_8hpp.html#a0041af519e0e7d47c9bcc83760c4669e" title="Debug assertion macro for runtime expression checking.">assert</a></span> when asserting invariants.</li>
<li>Always use the two-argument form with a human-readable message so that failure output is understandable without reading the code.</li>
<li>For <span class="tt"><a class="el" href="../../d1/d5f/assertion__macro__gcc__clang_8hpp.html#a672330c2fecd516f254162cd9611d91a" title="Debug assertion macro with custom message for runtime expression checking.">assert_message</a>(condition, "message")</span>: the string literal must describe what was expected or why the condition must hold.</li>
<li>For <span class="tt">static_assert(condition, "message")</span>: use the same format; the string literal must explain the invariant in human terms (e.g. <span class="tt">static_assert(length == expected, "length must match the literal's UTF-8 byte count")</span>).</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="naming-conventions"></a>
Naming Conventions</h1>
<ul>
<li>Types (classes, structs, enums, concepts): <span class="tt">PascalCase</span></li>
<li>Functions and variables: <span class="tt">camelCase</span></li>
<li>Constants: <span class="tt">UPPER_SNAKE_CASE</span> (only for true, globally visible constants)</li>
<li>Template parameters: descriptive names; avoid single-letter names unless the meaning is obvious and the scope is trivial</li>
</ul>
<p>Names must describe <b>intent</b>, not implementation details.</p>
<h2 class="doxsection"><a class="anchor" id="private-members"></a>
Private Members</h2>
<ul>
<li>All private data members and private member functions <b>must</b> start with a leading underscore (<span class="tt">_</span>).</li>
<li>This rule applies only to private members; protected and public members must <b>not</b> use a leading underscore.</li>
<li>The leading underscore is part of the naming convention and must be preserved consistently.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="comments-and-documentation"></a>
Comments and Documentation</h1>
<ul>
<li>Do not comment obvious code.</li>
<li>Comments must explain <em>why</em>, not <em>what</em>.</li>
<li>Public APIs must be documented.</li>
</ul>
<p>Documentation style:</p>
<ul>
<li>Concise</li>
<li>Neutral</li>
<li>Technical</li>
<li>No marketing language</li>
</ul>
<p><b>Exception</b>: The "Key Features" section (typically using <span class="tt">\section features</span>) may use emoji and markdown emphasis for visual clarity and readability. This exception applies only to the features list and does not extend to other documentation sections.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="documentation-style-rules"></a>
Documentation Style Rules</h1>
<ul>
<li>Use simple, direct language.</li>
<li>Avoid verbosity.</li>
<li>Prefer bullet points over prose where appropriate.</li>
<li>Document:<ul>
<li>Purpose</li>
<li>Constraints</li>
<li>Usage expectations</li>
<li>Compile-time vs runtime behavior</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="cross-references"></a>
Cross-References</h2>
<ul>
<li>When referencing types, classes, or other non-function symbols from the codebase in documentation, <b>always</b> use the Doxygen <span class="tt">\ref</span> tag with full namespace qualification to create proper cross-references.</li>
<li>This ensures that documentation links are generated correctly and remain valid when symbols are renamed or moved.</li>
<li>Use <span class="tt">\ref</span> <b>only</b> for non-function symbols (classes, types, enums, namespaces, concepts):<ul>
<li>Class/struct names: <span class="tt">\ref toy::ClassName</span></li>
<li>Type aliases: <span class="tt">\ref toy::TypeAlias</span></li>
<li>Enum values: <span class="tt">\ref toy::EnumName::Value</span></li>
<li>Namespaces: <span class="tt">\ref toy::namespaceName</span></li>
<li>Concepts: <span class="tt">\ref toy::ConceptName</span></li>
</ul>
</li>
<li>**Do not use <span class="tt">\ref</span> for functions or methods**. Reference functions and methods using plain text without <span class="tt">\ref</span>:<ul>
<li>Functions: <span class="tt">toy::functionName()</span> (not <span class="tt">\ref toy::functionName()</span>)</li>
<li>Methods: <span class="tt">methodName()</span> (not <span class="tt">\ref methodName()</span>)</li>
</ul>
</li>
<li>When using <span class="tt">\ref</span> for <b>classes, structs, enums, namespaces, or concepts</b>, <b>always</b> include the full namespace qualification in the <span class="tt">\ref</span> tag.</li>
<li>This ensures clarity and avoids ambiguity when the same symbol name exists in different namespaces.</li>
<li>Use the full qualified name: <span class="tt">\ref toy::ClassName</span> instead of <span class="tt">\ref ClassName</span>, <span class="tt">\ref <a class="el" href="../../d9/d85/classtoy_1_1math_1_1_vector2_d.html" title="2D floating-point vector class for interactive game objects and physics calculations.">toy::math::Vector2D</a></span> instead of <span class="tt">\ref Vector2D</span>.</li>
</ul>
<p><b>Note</b>: For functions and methods, use plain text with optional namespace qualification: <span class="tt">toy::functionName()</span> or <span class="tt">functionName()</span> if context is clear.</p>
<p>Examples:</p>
<ul>
<li><span class="tt">\ref <a class="el" href="../../d3/d7a/classtoy_1_1_fixed_string.html" title="Template string class with fixed-size character buffer.">toy::FixedString</a></span> instead of <span class="tt">\ref FixedString</span></li>
<li><span class="tt">\ref <a class="el" href="../../d9/d85/classtoy_1_1math_1_1_vector2_d.html" title="2D floating-point vector class for interactive game objects and physics calculations.">toy::math::Vector2D</a></span> instead of <span class="tt">\ref Vector2D</span></li>
<li><span class="tt">\ref <a class="el" href="../../d2/da2/namespacetoy_1_1assertion.html#a27a675a54a720bf1a098fd13be80553e" title="Callback function type for assertion failure handling.">toy::assertion::AssertionCallback</a></span> instead of <span class="tt">\ref AssertionCallback</span></li>
<li><span class="tt">\ref <a class="el" href="../../d4/da9/namespacetoy.html#aa6f1ef0b4e0aa4864f1c8d431775bc94" title="Enumeration of target operating systems and platforms.">toy::Platform</a></span> instead of <span class="tt">\ref Platform</span></li>
<li><span class="tt">\ref <a class="el" href="../../d4/da9/namespacetoy.html#a9fbbca3cbd855381284624d5fc830d49" title="Enumeration of CPU architectures and instruction set architectures.">toy::CpuArchitecture</a></span> instead of <span class="tt">\ref CpuArchitecture</span></li>
<li><span class="tt"><a class="el" href="../../d2/da2/namespacetoy_1_1assertion.html#a71e8fbdc3d1a6ccee148e120d0c890db" title="Reports an assertion failure with detailed context information.">toy::assertion::assertion()</a></span> instead of <span class="tt">\ref <a class="el" href="../../d2/da2/namespacetoy_1_1assertion.html#a71e8fbdc3d1a6ccee148e120d0c890db" title="Reports an assertion failure with detailed context information.">toy::assertion::assertion()</a></span> (no <span class="tt">\ref</span> for functions)</li>
<li><span class="tt">\ref <a class="el" href="../../d4/da9/namespacetoy.html#aa6f1ef0b4e0aa4864f1c8d431775bc94aaea23489ce3aa9b6406ebb28e0cda430" title="Microsoft Windows Desktop operating system (Windows XP, Vista, 7, 8, 8.1, 10, 11, etc....">toy::Platform::Windows</a></span> instead of <span class="tt">\ref Platform::Windows</span></li>
</ul>
<p><b>Exceptions</b>:</p>
<ul>
<li>Do not use <span class="tt">\ref</span> for standard library types or functions (e.g., <span class="tt">std::string</span>, <span class="tt">std::vector</span>, <span class="tt">std::size_t</span>).</li>
<li>Do not use <span class="tt">\ref</span> in <span class="tt">\sa</span> (see also) or <span class="tt">\see</span> (see) sections. These tags automatically create cross-references, so use plain symbol names: <span class="tt">\sa functionName()</span> instead of <span class="tt">\sa \ref functionName()</span>, and <span class="tt">\see ClassName</span> instead of <span class="tt">\see \ref ClassName</span>.</li>
<li>Do not use <span class="tt">\ref</span> for functions or methods anywhere in documentation.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="unit-test-style-rules"></a>
Unit Test Style Rules</h1>
<p>These rules define how unit tests must be written or generated by AI tools in this repository.</p>
<p>The goal is to keep tests:</p>
<ul>
<li>Short</li>
<li>Deterministic</li>
<li>Non-redundant</li>
<li>Suitable for constrained and embedded platforms</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="test-framework-assumptions"></a>
Test Framework Assumptions</h1>
<ul>
<li>DocTest-style tests are assumed.</li>
<li><span class="tt">static_assert</span> is preferred when possible.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="general-test-principles"></a>
General Test Principles</h1>
<ul>
<li>Tests must be minimal and focused.</li>
<li>One test = one behavioral aspect.</li>
<li>Prefer clarity over coverage inflation.</li>
<li>Avoid large, monolithic test cases.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="test-length-and-structure"></a>
Test Length and Structure</h1>
<ul>
<li>Tests must be readable without scrolling.</li>
<li>Avoid excessive setup.</li>
<li>Avoid deeply nested sections.</li>
</ul>
<p>If setup becomes complex, refactor the API or extract helpers.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="compile-time-vs-runtime-testing"></a>
Compile-Time vs Runtime Testing</h1>
<h2 class="doxsection"><a class="anchor" id="compile-time-constexpr-tests"></a>
Compile-Time (<span class="tt">constexpr</span>) Tests</h2>
<ul>
<li>Prefer compile-time verification whenever possible.</li>
<li>Use:<ul>
<li><span class="tt">static_assert</span></li>
</ul>
</li>
<li>Test:<ul>
<li>Type traits</li>
<li><span class="tt">constexpr</span> constructors</li>
<li><span class="tt">constexpr</span> operators</li>
<li>Compile-time invariants</li>
</ul>
</li>
</ul>
<p>Compile-time tests are preferred for:</p>
<ul>
<li>Containers</li>
<li>Math types</li>
<li>Value semantics</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="runtime-tests"></a>
Runtime Tests</h2>
<ul>
<li>Use runtime tests only when:<ul>
<li>Behavior depends on runtime state</li>
<li><span class="tt">constexpr</span> evaluation is not possible</li>
</ul>
</li>
<li>Runtime tests must be deterministic.</li>
</ul>
<p>Avoid:</p>
<ul>
<li>Randomness</li>
<li>Time-based behavior</li>
<li>Platform-dependent assumptions</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="redundancy-and-duplication"></a>
Redundancy and Duplication</h1>
<ul>
<li>Do not generate multiple tests for the same behavior.</li>
<li>Avoid copy-paste test cases with minor variations.</li>
</ul>
<p>Prefer:</p>
<ul>
<li>Parameterized tests</li>
<li>Small helper functions</li>
<li>Reusing a single test to cover multiple invariants</li>
</ul>
<p>If two tests assert the same contract, keep only one.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="value-based-assertions"></a>
Value-Based Assertions</h1>
<ul>
<li>Prefer value comparisons over implementation details.</li>
<li>Do not test private or internal state unless explicitly intended.</li>
</ul>
<p>Tests must survive refactoring without semantic changes.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="string-length-assertions-including-utf-8"></a>
String length assertions (including UTF-8)</h1>
<p>When asserting that a string’s <span class="tt">size()</span> or <span class="tt">length()</span> equals the byte length of a string literal (especially UTF-8 or other multi-byte encodings), do not use hardcoded numeric constants.</p>
<ul>
<li>Use a compile-time length from the same literal: <span class="tt">std::char_traits&lt;char&gt;::length("...")</span>.</li>
<li>Example: <span class="tt">REQUIRE(str.size() == std::char_traits&lt;char&gt;::length("Привет мир"))</span> instead of <span class="tt">REQUIRE(str.size() == 19)</span>.</li>
<li>This keeps tests robust (no manual byte counting, source encoding is the single source of truth) and readable (the literal shows the expected content).</li>
<li>Include <span class="tt">&lt;string&gt;</span> when using <span class="tt">std::char_traits</span>.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="constexpr--runtime-parity"></a>
Constexpr + Runtime Parity</h1>
<p>When applicable:</p>
<ul>
<li>Verify the same behavior at:<ul>
<li>Compile time</li>
<li>Runtime</li>
</ul>
</li>
</ul>
<p>The observable result must be identical.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="naming-tests"></a>
Naming Tests</h1>
<ul>
<li>Test names must describe behavior, not implementation.</li>
<li>Avoid redundant prefixes.</li>
<li>Avoid repeating the tested type name unless necessary.</li>
<li><span class="tt">TEST_CASE</span> names must follow <span class="tt">&lt;module&gt;/&lt;class&gt;/&lt;case&gt;[_&lt;variant&gt;]</span>.</li>
<li><span class="tt">TEST_CASE</span> names use <span class="tt">lowercase_snake_case</span>.</li>
<li>Human-readable descriptions go in a comment immediately before <span class="tt">TEST_CASE</span> or <span class="tt">SUBCASE</span>.</li>
<li>Avoid a single <span class="tt">SUBCASE</span> inside a <span class="tt">TEST_CASE</span>.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="floating-point-rules"></a>
Floating-Point Rules</h1>
<ul>
<li>Avoid floating-point tests unless explicitly required.</li>
<li>If unavoidable:<ul>
<li>Account for platform limitations</li>
<li>Avoid fragile equality checks</li>
</ul>
</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="test-independence"></a>
Test Independence</h1>
<ul>
<li>Tests must not depend on:<ul>
<li>Execution order</li>
<li>Global mutable state</li>
</ul>
</li>
<li>Each test must be independently executable.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="final-rule"></a>
Final Rule</h1>
<p>If a behavior can be verified at compile time, it must be verified at compile time.</p>
<p>Runtime tests exist only to cover what compile-time tests cannot. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on <span class="timestamp"></span> for ToyGine2 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
