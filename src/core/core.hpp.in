//
// Copyright (c) 2025-2026 Toyman Interactive
//
// Permission is hereby granted, free of charge, to any person obtaining a copy of this
// software and associated documentation files (the "Software"), to deal in the Software
// without restriction, including without limitation the rights to use, copy, modify, merge,
// publish, distribute, sublicense, and / or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the following conditions :
//
// The above copyright notice and this permission notice shall be included in all copies or
// substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
// PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE
// FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
// DEALINGS IN THE SOFTWARE.
//
/*!
  \file   core.hpp
  \brief  Umbrella header for the engine core module
*/

#ifndef INCLUDE_CORE_HPP_
#define INCLUDE_CORE_HPP_

#include <algorithm>
#include <array>
#include <bit>
#include <compare>
#include <concepts>
#include <cstddef>
#include <cstdint>
#include <cstring>
#include <cuchar>
#include <initializer_list>
#include <iterator>
#include <memory>
#include <stdexcept>
#include <string>
#include <type_traits>
#include <utility>

//----------------------------------------------------------------------------------------------------------------------

#include "@TOYGINE_TARGET_PLATFORM_CONFIG_HEADER@"

//----------------------------------------------------------------------------------------------------------------------

/// @namespace toy
/// @brief Root namespace containing all engine modules.
namespace toy {

using std::size_t;

using std::int16_t;
using std::int32_t;
using std::int64_t;
using std::int8_t;
using std::uint16_t;
using std::uint32_t;
using std::uint64_t;
using std::uint8_t;

using std::nullptr_t;

using std::char_traits;

using std::size;
using std::strong_ordering;

using std::array;

// Utility library https://en.cppreference.com/w/cpp/utility.html

// Bit manipulation https://en.cppreference.com/w/cpp/utility/bit.html
//         bit_cast https://en.cppreference.com/w/cpp/numeric/bit_cast.html
using std::bit_cast;

//    Type support https://en.cppreference.com/w/cpp/types
//  numeric_limits https://en.cppreference.com/w/cpp/types/numeric_limits
using std::numeric_limits;

#undef validate

#ifdef _DEBUG

#define validate(expression) assert(expression)
#define validate_message(expression, message) assert_message(expression, message)

#else

#define validate(expression) (expression)
#define validate_message(expression, message) (expression)

#endif

#undef TOY_CONFIG_DEBUG_MEMORY
#if defined(_DEBUG) && !defined(FORCE_NOT_DEBUG_MEMORY)
#define TOY_CONFIG_DEBUG_MEMORY
#endif // defined(_DEBUG) && !defined(FORCE_NOT_DEBUG_MEMORY)

} // namespace toy

//--------------------------------------------------------------------------------------------------------------------

/*!
  \defgroup String String Utilities
  \brief Classes and concepts for string manipulation and formatting.

  This group contains all string-related types and utilities in the core module:

  \section features Key Features

  - Zero or minimal dynamic allocation
  - Constexpr support where possible
  - Exception safety (noexcept operations)
  - Type safety through C++20 concepts
  - Cross-platform compatibility
*/

//--------------------------------------------------------------------------------------------------------------------

#include "core/assertion.hpp"
#include "core/c_string_view.hpp"
#include "core/callbacks_pool.hpp"
#include "core/constexpr_utils.hpp"
#include "core/fixed_string.hpp"
#include "core/fixed_vector.hpp"
#include "core/format.hpp"
#include "core/hashes.hpp"
#include "core/o_string_stream.hpp"
#include "core/platform.hpp"
#include "core/string_like.hpp"
#include "core/utils.hpp"

//----------------------------------------------------------------------------------------------------------------------

#include "core/c_string_view.inl"
#include "core/callbacks_pool.inl"
#include "core/constexpr_utils.inl"
#include "core/fixed_string.inl"
#include "core/fixed_vector.inl"
#include "core/format.inl"
#include "core/o_string_stream.inl"
#include "core/utils.inl"

#endif // INCLUDE_CORE_HPP_
